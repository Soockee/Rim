USEFUL COMMANDS

go build main.go

docker build -t marioscrock/jaeger-agent .

cd /Users/Mario/eclipse-workspace/jaeger-java-collector
docker build -t marioscrock/jaeger-java-collector .

docker swarm init
docker stack deploy -c jaeger-docker-compose.yml <service-name>

docker stack rm <service-name>
docker swarm leave --force

cd /Users/Mario/go/src/github.com/jaegertracing 
docker-compose -f jaeger-docker-compose.yml up

REMOVE intermediate images for multi-stage builds
docker rmi $(docker images | grep "^<none>" | awk "{print $3}")

HOTROD
mkdir -p $GOPATH/src/github.com/jaegertracing
cd $GOPATH/src/github.com/jaegertracing
git clone git@github.com:jaegertracing/jaeger.git jaeger
cd jaeger
make install
cd examples/hotrod
go run ./main.go all

GO
cd /Users/Mario/go/src/github.com/jaegertracing/jaeger/examples/hotrod/services/frontend/
go-bindata-assetfs -ignore web_assets/.DS_Store -pkg frontend -o bindata_assetfs.go web_assets/...

ALL IN
docker run -d -p6831:6831/udp -p16686:16686 jaegertracing/all-in-one:latest

JAEGER
Can ask more than 1500 traces simply changing directly limit in the URL, check only in UI


PREVIOUS DOCKER FILE - FOR JAEGER AGENT - VERSION

# RUN only
#FROM iron/go
#EXPOSE 5775/udp 6831/udp 6832/udp 5778
#WORKDIR /app
# Now just add the binary
#COPY main /app/
#ENTRYPOINT ["./main"] # --collector.host-port=jaeger-collector:14267"]

# CROSS-COMPILE IMAGE
#FROM iron/go:dev
#EXPOSE 5775/udp 6831/udp 6832/udp 5778
#WORKDIR /app
# Set an env var that matches your path
#ENV SRC_DIR=/go/src/github.com/jaegertracing/jaeger/
# Add the source code:
#ADD jaeger/ $SRC_DIR
# Build it:
#RUN cd $SRC_DIR; cd cmd/agent/; go build main.go; cp main /app/
#ENTRYPOINT ["./main"]

DOCKER-COMPOSE 
jaeger-java-collector:
      image: marioscrock/jaeger-java-collector
      command: ["java","-jar","/usr/app/jaeger-0.0.1-SNAPSHOT-jar-with-dependencies.jar"]
      ports:
        - "2042:2042" 
        - "4567:4567"
      restart: on-failure
      depends_on:
        - jaeger-agent
